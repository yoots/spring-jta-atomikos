<?xml version="1.0" encoding="UTF-8" ?> 
<!DOCTYPE mapper PUBLIC "-//ibatis.apache.org//DTD Mapper 3.0//EN" "http://ibatis.apache.org/dtd/ibatis-3-mapper.dtd">  

<mapper namespace="TestDao2">
    
    <select id="board_list" parameterType="paramMap" resultType="hashMap">
	    SELECT 
			TOP 10
			a.article_seq articleSeq,
			a.board_seq boardSeq,
			a.thread_seq threadSeq,
			a.reply_pos replyPos,
			a.title ,
			a.content ,
			a.ip ,
			isnull(a.read_count , 0 ) readCount ,
			a.writer_id writerId ,
			a.writer_name writerName ,
			is_del isDel , 
			convert(char(10),a.reg_dt,102 ) regDt , 
			DATEDIFF( day, a.reg_dt , getdate() ) AS days 
		FROM dbo.tb_board a 
		WHERE board_seq = #{boardSeq} AND is_del = #{isDel} 
	</select>
 
    <insert id="insert_test" parameterType="paramMap">
        INSERT INTO dbo.tb_boardfile 
			( file_id , article_seq )
		VALUES 
			( #{fileId} , #{articleSeq}, #{copSeq} )
    </insert>
    
</mapper>